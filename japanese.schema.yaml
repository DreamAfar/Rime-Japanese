# Rime schema
# vim: set sw=2 sts=2 et:
# encoding: utf-8

schema:
  schema_id: japanese
  name: æ—¥æœ¬èªå…¥åŠ›
  version: 'v1.0 2023.4.10'
  author:
    - ensigma96 <ensigma96@gmail.com>
  dependencies:

switches:
  - name: ascii_mode
    reset: 0
    states: [ æ—¥è¯­, è‹±æ–‡ ]
  - name: full_shape
    states: [ åŠè§’, å…¨è§’ ]
  - name: ascii_punct
    states: [ ã€‚ï¼Œ, ï¼ï¼Œ ]
  - name: emoji_jp
    reset: 1
    states: [ "ğŸ˜­ï¸", "ğŸ˜„ï¸" ]

engine:
  processors:
    - ascii_composer
    - recognizer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - script_translator
    - reverse_lookup_translator
    - table_translator@custom_phrase  # æ·»åŠ  è°ƒç”¨custom_phraseè‡ªå®šä¹‰çŸ­è¯­
    # - lua_translator@date_translator  # æ·»åŠ  è°ƒç”¨Rime-luaæ’ä»¶ï¼Œè‡ªå®šä¹‰ç³»ç»Ÿå˜é‡è¾“å‡ºæ—¥æœŸã€æ˜ŸæœŸã€æ—¶é—´ç±»å‹è¾“å‡º
    # - lua_translator@calculator_translator # æ·»åŠ  ç®€æ˜“è®¡ç®—å™¨luaï¼ŒæŒ‰ç¬¦å·"="æ¿€æ´»è®¡ç®—å™¨
  filters:
    # - simplifier
    - uniquifier
    - simplifier@emoji_jp

speller:
  alphabet: zyxwvutsrqponmlkjihgfedcba:,.!()/-=_+    #'zyxwvutsrqponmlkjihgfedcba-_'
  delimiter: " '"  #"ï¼Œ"é€—å·åˆ†è¯
  algebra:
  # ç‰¹æ®Šå‡åå¤„ç†
    # - xform/[aiueo]ly/y/
    # - xform/[aiueo]lw/w/
    # - xform/ltu([a-z])/$1$1/
    # - xform/[aiueo]l([aiueo])/$1/

    # é•¿éŸ³ç¬¦å·
    # - xform/ãƒ¼/-
    # åŸºç¡€ï¼ˆç®€æ‹¼ï¼‰
    # - abbrev/^([a-z]).+$/$1/
    # - abbrev/^([zcs]h).+$/$1/

    # å…¼å®¹å…¶ä»–æ‹¼å†™æ–¹å¼
    - derive/-/q/      # q => -
    - derive/fu/hu/  # fu
    - derive/chi/ti/
    - derive/tsu/tu/  # tsu
    - derive/shi/si/  #ã—

    # å°å­—æ¯
    - derive/x/l/              # l = x
    # - derive/ly([auo])/xy$1/   # lya lyu lyo  => xya xyu xyo
    # - derive/xy([auo])/ly$1/   # xya xyu xyo  => lya lyu lyo
    # - derive/ltu/xtu/
    # - derive/lwa/xwa/
    # ä¿ƒéŸ³ã£
    # - derive/^([kgptsdhbrjzv])\1([aiueo])/ltu$1$2/
    # - derive/([t])\1(su)/ltu$1$2/
    # - derive/^([kszcnhbprftd])\1y([auo])/ltu$1y$2/  # 
    # - derive/([kg])\1w([aiueo])/ltu$1w$2/  # 
    # - derive/([f])\1([aieuo])/ltu$1$2/  # ffa ffi ffe ffo
    # - derive/s(shi)/ltu$1/
    # - derive/tch([eauo])/ltuch$1/  # tche tcha tchu tcho

    # - derive/zi/ji/
    # - derive/zy([auo])/j$1/
    # - derive/sy([auo])/sh$1/
    # - derive/^nn$/n/


translator:
  dictionary: japanese
  spelling_hints: 15        # è¨­å®šå¤šå°‘å­—ä»¥å…§å€™é¸æ¨™è¨»å®Œæ•´å¸¶èª¿æ‹¼éŸ³ã€”åƒ…script_translatoræœ‰æ•ˆã€•
  enable_completion: true   # æå‰æ˜¾ç¤ºå°šæœªè¾“å…¥å®Œæ•´ç çš„å­—ã€”true æˆ– falseã€•ç¼–ç é€æ¸æç¤ºå¼€å…³ï¼›ç¼–ç æç¤º
  enable_sentence: true     # æ˜¯å¦å¼€å¯è‡ªåŠ¨é€ å¥ã€”true æˆ– falseã€•
  comment_format:
    - 'xlit|q|ãƒ¼|'
  preedit_format:
    # - xform/(^|\s)ten/ãƒ»/
    # - xform/(^|\s)symbol/ã€…/
    - xform/(^|\s)-/ãƒ¼/
    - xform/(^|\s)q/ãƒ¼/
    - xform/(^|\s)~/ã€œ/

    - xform/(^|\s)va/ã‚”ã/
    - xform/(^|\s)vi/ã‚”ãƒ/
    - xform/(^|\s)vu/ã‚”/
    - xform/(^|\s)ve/ã‚”ã‡/
    - xform/(^|\s)vo/ã‚”ã‰/
    - xform/(^|\s)vya/ã‚”ã‚ƒ/
    - xform/(^|\s)vyu/ã‚”ã‚…/
    - xform/(^|\s)vyo/ã‚”ã‚‡/
    - xform/(^|\s)vvu/ã£ã‚”/
    - xform/(^|\s)wwha/ã£ã†ã/
    - xform/(^|\s)wwi/ã£ã†ãƒ/
    - xform/(^|\s)wwu/ã£ã†/
    - xform/(^|\s)wwe/ã£ã†ã‡/
    - xform/(^|\s)wwho/ã£ã†ã‰/
    - xform/(^|\s)xxa/ã£ã/
    - xform/(^|\s)xxi/ã£ãƒ/
    - xform/(^|\s)xxu/ã£ã…/
    - xform/(^|\s)xxe/ã£ã‡/
    - xform/(^|\s)xxo/ã£ã‰/
    - xform/(^|\s)kka/ã£ã‹/
    - xform/(^|\s)kki/ã£ã/
    - xform/(^|\s)kku/ã£ã/
    - xform/(^|\s)kke/ã£ã‘/
    - xform/(^|\s)kko/ã£ã“/
    - xform/(^|\s)gga/ã£ãŒ/
    - xform/(^|\s)ggi/ã£ã/
    - xform/(^|\s)ggu/ã£ã/
    - xform/(^|\s)gge/ã£ã’/
    - xform/(^|\s)ggo/ã£ã”/
    - xform/(^|\s)ssa/ã£ã•/
    - xform/(^|\s)sshi/ã£ã—/
    - xform/(^|\s)sshe/ã£ã—ã‡/
    - xform/(^|\s)ssha/ã£ã—ã‚ƒ/
    - xform/(^|\s)sshu/ã£ã—ã‚…/
    - xform/(^|\s)ssho/ã£ã—ã‚‡/
    - xform/(^|\s)ssu/ã£ã™/
    - xform/(^|\s)sse/ã£ã›/
    - xform/(^|\s)sso/ã£ã/
    - xform/(^|\s)zza/ã£ã–/
    - xform/(^|\s)zzi/ã£ã˜/
    - xform/(^|\s)zzu/ã£ãš/
    - xform/(^|\s)zze/ã£ãœ/
    - xform/(^|\s)zzo/ã£ã/
    - xform/(^|\s)tta/ã£ãŸ/
    - xform/(^|\s)tti/ã£ã¡/
    - xform/(^|\s)ttu/ã£ã¤/
    - xform/(^|\s)tte/ã£ã¦/
    - xform/(^|\s)tto/ã£ã¨/
    - xform/(^|\s)dda/ã£ã /
    - xform/(^|\s)ddi/ã£ã¢/
    - xform/(^|\s)ddu/ã£ã¥/
    - xform/(^|\s)dde/ã£ã§/
    - xform/(^|\s)ddo/ã£ã©/
    - xform/(^|\s)hha/ã£ã¯/
    - xform/(^|\s)hhi/ã£ã²/
    - xform/(^|\s)hhu/ã£ãµ/
    - xform/(^|\s)hhe/ã£ã¸/
    - xform/(^|\s)hho/ã£ã»/
    - xform/(^|\s)bba/ã£ã°/
    - xform/(^|\s)bbi/ã£ã³/
    - xform/(^|\s)bbu/ã£ã¶/
    - xform/(^|\s)bbe/ã£ã¹/
    - xform/(^|\s)bbo/ã£ã¼/
    - xform/(^|\s)ppa/ã£ã±/
    - xform/(^|\s)ppi/ã£ã´/
    - xform/(^|\s)ppu/ã£ã·/
    - xform/(^|\s)ppe/ã£ãº/
    - xform/(^|\s)ppo/ã£ã½/
    - xform/(^|\s)mma/ã£ã¾/
    - xform/(^|\s)mmi/ã£ã¿/
    - xform/(^|\s)mmu/ã£ã‚€/
    - xform/(^|\s)mme/ã£ã‚/
    - xform/(^|\s)mmo/ã£ã‚‚/
    - xform/(^|\s)yya/ã£ã‚„/
    - xform/(^|\s)yyu/ã£ã‚†/
    - xform/(^|\s)yyo/ã£ã‚ˆ/
    - xform/(^|\s)xxya/ã£ã‚ƒ/
    - xform/(^|\s)xxyu/ã£ã‚…/
    - xform/(^|\s)xxyo/ã£ã‚‡/
    - xform/(^|\s)rra/ã£ã‚‰/
    - xform/(^|\s)rri/ã£ã‚Š/
    - xform/(^|\s)rru/ã£ã‚‹/
    - xform/(^|\s)rre/ã£ã‚Œ/
    - xform/(^|\s)rro/ã£ã‚/
    - xform/(^|\s)xxwa/ã£ã‚/
    - xform/(^|\s)wwa/ã£ã‚/
    - xform/(^|\s)wwyi/ã£ã‚/
    - xform/(^|\s)wwye/ã£ã‚‘/
    - xform/(^|\s)wwo/ã£ã‚’/
    - xform/(^|\s)ye/ã„ã‡/
    - xform/(^|\s)wha/ã†ã/
    - xform/(^|\s)kya/ãã‚ƒ/
    - xform/(^|\s)kyi/ããƒ/
    - xform/(^|\s)kyu/ãã‚…/
    - xform/(^|\s)kye/ãã‡/
    - xform/(^|\s)kyo/ãã‚‡/
    - xform/(^|\s)gya/ãã‚ƒ/
    - xform/(^|\s)gyi/ããƒ/
    - xform/(^|\s)gyu/ãã‚…/
    - xform/(^|\s)gye/ãã‡/
    - xform/(^|\s)gyo/ãã‚‡/
    - xform/(^|\s)qa/ãã/
    - xform/(^|\s)qi/ããƒ/
    - xform/(^|\s)qe/ãã‡/
    - xform/(^|\s)qo/ãã‰/
    - xform/(^|\s)sha|sya/ã—ã‚ƒ/
    - xform/(^|\s)syi/ã—ãƒ/
    - xform/(^|\s)shu|syu/ã—ã‚…/
    - xform/(^|\s)sye/ã—ã‡/
    - xform/(^|\s)sho|syo/ã—ã‚‡/
    - xform/(^|\s)zya|ja|jya/ã˜ã‚ƒ/
    - xform/(^|\s)zyi/ã˜ãƒ/
    - xform/(^|\s)zyu|ju|jyu/ã˜ã‚…/
    - xform/(^|\s)zye/ã˜ã‡/
    - xform/(^|\s)zyo|jo|jyo/ã˜ã‚‡/
    - xform/(^|\s)swa/ã™ã/
    - xform/(^|\s)swi/ã™ãƒ/
    - xform/(^|\s)swu/ã™ã…/
    - xform/(^|\s)swe/ã™ã‡/
    - xform/(^|\s)swo/ã™ã‰/
    - xform/(^|\s)zwa/ãšã/
    - xform/(^|\s)zwi/ãšãƒ/
    - xform/(^|\s)zwu/ãšã…/
    - xform/(^|\s)zwe/ãšã‡/
    - xform/(^|\s)zwo/ãšã‰/
    - xform/(^|\s)cha|tya/ã¡ã‚ƒ/
    - xform/(^|\s)tyi/ã¡ãƒ/
    - xform/(^|\s)chu|tyu/ã¡ã‚…/
    - xform/(^|\s)tye/ã¡ã‡/
    - xform/(^|\s)cho|tyo/ã¡ã‚‡/
    - xform/(^|\s)dya/ã¢ã‚ƒ/
    - xform/(^|\s)dyi/ã¢ãƒ/
    - xform/(^|\s)dyu/ã¢ã‚…/
    - xform/(^|\s)dye/ã¢ã‡/
    - xform/(^|\s)dyo/ã¢ã‚‡/
    - xform/(^|\s)tsa/ã¤ã/
    - xform/(^|\s)tsi/ã¤ãƒ/
    - xform/(^|\s)tse/ã¤ã‡/
    - xform/(^|\s)tso/ã¤ã‰/
    - xform/(^|\s)tha/ã¦ã‚ƒ/
    - xform/(^|\s)thi/ã¦ãƒ/
    - xform/(^|\s)thu/ã¦ã‚…/
    - xform/(^|\s)the/ã¦ã‡/
    - xform/(^|\s)tho/ã¦ã‚‡/
    - xform/(^|\s)dha/ã§ã‚ƒ/
    - xform/(^|\s)dhi/ã§ãƒ/
    - xform/(^|\s)dhu/ã§ã‚…/
    - xform/(^|\s)dhe/ã§ã‡/
    - xform/(^|\s)dho/ã§ã‚‡/
    - xform/(^|\s)twa/ã¨ã/
    - xform/(^|\s)twi/ã¨ãƒ/
    - xform/(^|\s)twu/ã¨ã…/
    - xform/(^|\s)twe/ã¨ã‡/
    - xform/(^|\s)two/ã¨ã‰/
    - xform/(^|\s)dwa/ã©ã/
    - xform/(^|\s)dwi/ã©ãƒ/
    - xform/(^|\s)dwu/ã©ã…/
    - xform/(^|\s)dwe/ã©ã‡/
    - xform/(^|\s)dwo/ã©ã‰/
    - xform/(^|\s)nya/ã«ã‚ƒ/
    - xform/(^|\s)nyi/ã«ãƒ/
    - xform/(^|\s)nyu/ã«ã‚…/
    - xform/(^|\s)nye/ã«ã‡/
    - xform/(^|\s)nyo/ã«ã‚‡/
    - xform/(^|\s)hya/ã²ã‚ƒ/
    - xform/(^|\s)hyi/ã²ãƒ/
    - xform/(^|\s)hyu/ã²ã‚…/
    - xform/(^|\s)hye/ã²ã‡/
    - xform/(^|\s)hyo/ã²ã‚‡/
    - xform/(^|\s)bya/ã³ã‚ƒ/
    - xform/(^|\s)byi/ã³ãƒ/
    - xform/(^|\s)byu/ã³ã‚…/
    - xform/(^|\s)bye/ã³ã‡/
    - xform/(^|\s)byo/ã³ã‚‡/
    - xform/(^|\s)pya/ã´ã‚ƒ/
    - xform/(^|\s)pyi/ã´ãƒ/
    - xform/(^|\s)pyu/ã´ã‚…/
    - xform/(^|\s)pye/ã´ã‡/
    - xform/(^|\s)pyo/ã´ã‚‡/
    - xform/(^|\s)fya/ãµã‚ƒ/
    - xform/(^|\s)fyu/ãµã‚…/
    - xform/(^|\s)fyo/ãµã‚‡/
    - xform/(^|\s)mya/ã¿ã‚ƒ/
    - xform/(^|\s)myi/ã¿ãƒ/
    - xform/(^|\s)myu/ã¿ã‚…/
    - xform/(^|\s)mye/ã¿ã‡/
    - xform/(^|\s)myo/ã¿ã‚‡/
    - xform/(^|\s)rya/ã‚Šã‚ƒ/
    - xform/(^|\s)ryi/ã‚Šãƒ/
    - xform/(^|\s)ryu/ã‚Šã‚…/
    - xform/(^|\s)rye/ã‚Šã‡/
    - xform/(^|\s)ryo/ã‚Šã‚‡/

    # äº”åéŸ³
    - xform/(^|\s)a/ã‚/
    - xform/(^|\s)i/ã„/
    - xform/(^|\s)u/ã†/
    - xform/(^|\s)e/ãˆ/
    - xform/(^|\s)o/ãŠ/
    - xform/(^|\s)ka/ã‹/
    - xform/(^|\s)ki/ã/
    - xform/(^|\s)ku/ã/
    - xform/(^|\s)ke/ã‘/
    - xform/(^|\s)ko/ã“/
    - xform/(^|\s)ga/ãŒ/
    - xform/(^|\s)gi/ã/
    - xform/(^|\s)gu/ã/
    - xform/(^|\s)ge/ã’/
    - xform/(^|\s)go/ã”/
    - xform/(^|\s)sa/ã•/
    - xform/(^|\s)shi|si/ã—/
    - xform/(^|\s)su/ã™/
    - xform/(^|\s)se/ã›/
    - xform/(^|\s)so/ã/
    - xform/(^|\s)za/ã–/
    - xform/(^|\s)zi|ji/ã˜/
    - xform/(^|\s)zu/ãš/
    - xform/(^|\s)ze/ãœ/
    - xform/(^|\s)zo/ã/
    - xform/(^|\s)ta/ãŸ/
    - xform/(^|\s)ti|chi/ã¡/
    - xform/(^|\s)tu|tsu/ã¤/
    - xform/(^|\s)te/ã¦/
    - xform/(^|\s)to/ã¨/
    - xform/(^|\s)da/ã /
    - xform/(^|\s)di/ã¢/
    - xform/(^|\s)du/ã¥/
    - xform/(^|\s)de/ã§/
    - xform/(^|\s)do/ã©/
    - xform/(^|\s)na/ãª/
    - xform/(^|\s)ni/ã«/
    - xform/(^|\s)nu/ã¬/
    - xform/(^|\s)ne/ã­/
    - xform/(^|\s)no/ã®/
    - xform/(^|\s)ha/ã¯/
    - xform/(^|\s)hi/ã²/
    - xform/(^|\s)hu|fu/ãµ/
    - xform/(^|\s)he/ã¸/
    - xform/(^|\s)ho/ã»/
    - xform/(^|\s)ba/ã°/
    - xform/(^|\s)bi/ã³/
    - xform/(^|\s)bu/ã¶/
    - xform/(^|\s)be/ã¹/
    - xform/(^|\s)bo/ã¼/
    - xform/(^|\s)pa/ã±/
    - xform/(^|\s)pi/ã´/
    - xform/(^|\s)pu/ã·/
    - xform/(^|\s)pe/ãº/
    - xform/(^|\s)po/ã½/
    - xform/(^|\s)ma/ã¾/
    - xform/(^|\s)mi/ã¿/
    - xform/(^|\s)mu/ã‚€/
    - xform/(^|\s)me/ã‚/
    - xform/(^|\s)mo/ã‚‚/
    - xform/(^|\s)ya/ã‚„/
    - xform/(^|\s)yu/ã‚†/
    - xform/(^|\s)yo/ã‚ˆ/
    - xform/(^|\s)ra/ã‚‰/
    - xform/(^|\s)ri/ã‚Š/
    - xform/(^|\s)ru/ã‚‹/
    - xform/(^|\s)re/ã‚Œ/
    - xform/(^|\s)ro/ã‚/
    - xform/(^|\s)wa/ã‚/
    - xform/(^|\s)wyi/ã‚/
    - xform/(^|\s)wye/ã‚‘/
    - xform/(^|\s)wo/ã‚’/
    - xform/(^|\s)n/ã‚“/

    #å°å‡å
    - xform/(^|\s)la|xa/ã/
    - xform/(^|\s)li|xi/ãƒ/
    - xform/(^|\s)lu|xu/ã…/
    - xform/(^|\s)le|xe/ã‡/
    - xform/(^|\s)lo|xo/ã‰/
    - xform/(^|\s)lya|xya/ã‚ƒ/
    - xform/(^|\s)lyu|xyu/ã‚…/
    - xform/(^|\s)lyo|xyo/ã‚‡/
    - xform/(^|\s)lka|xka/ãƒµ/
    - xform/(^|\s)lke|xke/ãƒ¶/
    - xform/(^|\s)lwa|xwa/ã‚/


# è‡ªå®šä¹‰çŸ­è¯­ Custom_phrase.txt # Tab ä¸èƒ½ç”¨ç©ºæ ¼ä»£æ›¿
custom_phrase:
  dictionary: ""
  user_dict: custom_phrase     #è®¾å®šç”¨æˆ·è¯å…¸å
  db_class: stabledb           #è®¾å®šç”¨æˆ·è¯å…¸ç±»å‹ï¼Œå¯è®¾ tabledbã€”æ–‡æœ¬ã€•æˆ– userdbã€”äºŒè¿›åˆ¶ã€•
  enable_completion: false     #æå‰æ˜¾ç¤ºå°šæœªè¾“å…¥å®Œæ•´ç çš„å­—ã€”true æˆ– falseã€•
  enable_sentence: false       #æ˜¯å¦å¼€å¯è‡ªåŠ¨é€ å¥ã€”true æˆ– falseã€•
  initial_quality: 1           #è®¾å®šæ­¤ç¿»è¯‘å™¨ç»“æœä¼˜å…ˆçº§ï¼Œå¦‚æœæƒ³è¦è‡ªå®šä¹‰çš„è¯æ’åœ¨å‰é¢ï¼Œè¿™ä¸ªå€¼å°½é‡è®¾å¤§ä¸€ç‚¹
  
# æ—¥è¯­ç‰ˆçš„emojiè¡¨æƒ…
emoji_jp:
  opencc_config: emoji_Japanese.json
  option_name: emoji_jp
  tips: all

# reverse_lookup:
#   dictionary: japanese
#   prefix: "`"
#   suffix: "'"
#   tips: ã€”æ—¥è¯­ã€•
#   preedit_format:


punctuator:
  import_preset: default

recognizer:
  import_preset: default
  patterns:
    reverse_lookup: "`[a-z]*'?$"
    # expression: "^=.*$"  #è®¡ç®—å™¨lua = å¼•å¯¼,

key_binder:
  import_preset: default
  bindings:
  # è®¾ç½®å“ªäº›é”®å¯ä»¥ç¿»é¡µï¼Œéœ€è¦å“ªä¸ªå–æ¶ˆæ³¨é‡Šå³å¯
    # # è‡ªå®šä¹‰
    # - {accept: "~", send: "Shift+Right", when: has_menu}  #æ‰‹æœºä¸Šç”¨  åˆ‡æ¢ç¼–ç åˆ‡åˆ†
    # - {accept: "'", send: "Shift+Delete", when: has_menu}  #æ‰‹æœºä¸Šç”¨  åˆ è¯
    # - { when: has_menu, accept: "#", toggle: emoji_suggestion } # æ‰‹æœºä¸Šç”¨ï¼šåœ¨è¾“å…¥è¿‡ç¨‹ä¸­ï¼Œåˆ‡æ¢Emojiå¼€å…³çš„å¿«æ·é”®ï¼Œè¿™é‡Œç”¨#å·åˆ‡æ¢
    # - { when: always, accept: "^", select: .next }   #æ‰‹æœºä¸Šç”¨åˆ‡æ¢è¾“å…¥æ³•

    - { when: has_menu, accept: "#", toggle: emoji_jp } # åœ¨è¾“å…¥è¿‡ç¨‹ä¸­ï¼Œåˆ‡æ¢Emojiå¼€å…³çš„å¿«æ·é”®ï¼Œè¿™é‡Œç”¨#å·åˆ‡æ¢
    - { when: has_menu, accept: "F6", toggle: emoji_jp } # windowåœ¨è¾“å…¥è¿‡ç¨‹ä¸­ï¼Œç”¨F6å¿«æ·é”®ï¼Œåˆ‡æ¢Emojiå¼€å…³
    # - { when: always, accept: Control+Shift+space, select: .next }